import sys


a, b, c = map(int, sys.stdin.readline().split())
container = list()
max_number = -10000
for _ in range(a):
    l = list(map(int, sys.stdin.readline().split()))
    container.append(l)

dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]
visited = 
for i in range(a):
    for j in range(b):
        stack = 
        while stack